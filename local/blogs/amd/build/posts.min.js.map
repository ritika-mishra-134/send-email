{"version":3,"file":"posts.min.js","sources":["../src/posts.js"],"sourcesContent":["define(['jquery', 'core/ajax', 'core/str',  \"core/templates\"],\nfunction($, ajax, str, templates) {\n    var index = {\n        dom: {\n            main: null\n        },\n        langs: {\n            noBlogs: null\n        },\n        action: {\n            getString: function() {\n                str.get_strings([\n                    {key: 'noblogs', component: 'local_blogs'},    \n                ]).then(function(s) {\n                    index.langs.noBlogs = s[0];\n                    index.init();\n                }).fail(function() {});\n            },\n            blogDetails: function(blogtype, page) {\n                var promises = ajax.call([\n                    {\n                        methodname: 'local_blogs_blogdetails',\n                        args: {\n                            blogtype : blogtype,\n                            currentpage: page\n                        }\n                    }\n                ]);\n                promises[0].done(function(result) {\n                    var data = result;\n                    if (data.one.length > 0) {\n                        templates.render(\"local_blogs/blogcard\", {data: data}).then(function (html, js) {\n                            index.dom.all.html(html);\n                        }).fail(function (b) {\n                        });\n                    } else {\n                        index.dom.all.html('<div class=\"col-md-12 label\" style=\"font-size: large; font-size: large;color: #DF9CFA;margin-top: 30px;padding-top: 10px;\">'+index.langs.noBlogs+'</div>');\n                    }\n                    \n                }).fail(function(result) {\n                });\n            }\n        },\n        init: function() {\n            index.action.blogDetails('all', 1);\n            \n            index.dom.main = $(document).find('#article');\n            index.dom.all = index.dom.main.find('#all');\n            \n            index.dom.main.on('click', '.btn-blog', function(e) {\n                var dataBlog = $(this).attr('data-blog');\n                index.action.blogDetails(dataBlog, 1);\n                \n            });\n            \n            index.dom.main.on('click', 'li.page-item.next .page-link', function(e) {\n                var activeItem = $(\"li.page-item.active\");\n                // Get the current page number from the active item\n                var currentPage = parseInt(activeItem.val());\n                // Calculate the next page number\n                var nextPage = currentPage + 1;\n                // Find the next page item\n                var nextItem = $(\"li.page-item\").filter(function() {\n                    return $(this).val() == nextPage;\n                });\n                \n                // If next item exists, update classes\n                if (nextItem.length > 0) {\n                    activeItem.removeClass('active');\n                    nextItem.addClass('active');\n                }\n                index.action.blogDetails($('.btn-blog.active').attr('data-blog'), nextPage);\n            });\n            \n            index.dom.main.on('click', 'li.page-item.previous .page-link', function(e) {\n                var activeItem = $(\"li.page-item.active\");\n                // Get the current page number from the active item\n                var currentPage = parseInt(activeItem.val());\n                // Calculate the next page number\n                var nextPage = currentPage - 1;\n                // Find the next page item\n                var nextItem = $(\"li.page-item\").filter(function() {\n                    return $(this).val() == nextPage;\n                });\n                \n                // If next item exists, update classes\n                if (nextItem.length > 0) {\n                    activeItem.removeClass('active');\n                    nextItem.addClass('active');\n                }\n                index.action.blogDetails($('.btn-blog.active').attr('data-blog'), nextPage);\n            });\n        }\n    };\n    return {\n        init: index.action.getString\n    };\n});"],"names":["define","$","ajax","str","templates","index","dom","main","langs","noBlogs","action","getString","get_strings","key","component","then","s","init","fail","blogDetails","blogtype","page","call","methodname","args","currentpage","done","result","data","one","length","render","html","js","all","b","document","find","on","e","dataBlog","this","attr","activeItem","nextPage","parseInt","val","nextItem","filter","removeClass","addClass"],"mappings":"AAAAA,2BAAO,CAAC,SAAU,YAAa,WAAa,mBAC5C,SAASC,EAAGC,KAAMC,IAAKC,eACfC,MAAQ,CACRC,IAAK,CACDC,KAAM,MAEVC,MAAO,CACHC,QAAS,MAEbC,OAAQ,CACJC,UAAW,WACPR,IAAIS,YAAY,CACZ,CAACC,IAAK,UAAWC,UAAW,iBAC7BC,MAAK,SAASC,GACbX,MAAMG,MAAMC,QAAUO,EAAE,GACxBX,MAAMY,UACPC,MAAK,gBAEZC,YAAa,SAASC,SAAUC,MACbnB,KAAKoB,KAAK,CACrB,CACIC,WAAY,0BACZC,KAAM,CACFJ,SAAWA,SACXK,YAAaJ,SAIhB,GAAGK,MAAK,SAASC,YAClBC,KAAOD,OACPC,KAAKC,IAAIC,OAAS,EAClB1B,UAAU2B,OAAO,uBAAwB,CAACH,KAAMA,OAAOb,MAAK,SAAUiB,KAAMC,IACxE5B,MAAMC,IAAI4B,IAAIF,KAAKA,SACpBd,MAAK,SAAUiB,OAGlB9B,MAAMC,IAAI4B,IAAIF,KAAK,8HAA8H3B,MAAMG,MAAMC,QAAQ,aAG1KS,MAAK,SAASS,cAIzBV,KAAM,WACFZ,MAAMK,OAAOS,YAAY,MAAO,GAEhCd,MAAMC,IAAIC,KAAON,EAAEmC,UAAUC,KAAK,YAClChC,MAAMC,IAAI4B,IAAM7B,MAAMC,IAAIC,KAAK8B,KAAK,QAEpChC,MAAMC,IAAIC,KAAK+B,GAAG,QAAS,aAAa,SAASC,OACzCC,SAAWvC,EAAEwC,MAAMC,KAAK,aAC5BrC,MAAMK,OAAOS,YAAYqB,SAAU,MAIvCnC,MAAMC,IAAIC,KAAK+B,GAAG,QAAS,gCAAgC,SAASC,OAC5DI,WAAa1C,EAAE,uBAIf2C,SAFcC,SAASF,WAAWG,OAET,EAEzBC,SAAW9C,EAAE,gBAAgB+C,QAAO,kBAC7B/C,EAAEwC,MAAMK,OAASF,YAIxBG,SAASjB,OAAS,IAClBa,WAAWM,YAAY,UACvBF,SAASG,SAAS,WAEtB7C,MAAMK,OAAOS,YAAYlB,EAAE,oBAAoByC,KAAK,aAAcE,aAGtEvC,MAAMC,IAAIC,KAAK+B,GAAG,QAAS,oCAAoC,SAASC,OAChEI,WAAa1C,EAAE,uBAIf2C,SAFcC,SAASF,WAAWG,OAET,EAEzBC,SAAW9C,EAAE,gBAAgB+C,QAAO,kBAC7B/C,EAAEwC,MAAMK,OAASF,YAIxBG,SAASjB,OAAS,IAClBa,WAAWM,YAAY,UACvBF,SAASG,SAAS,WAEtB7C,MAAMK,OAAOS,YAAYlB,EAAE,oBAAoByC,KAAK,aAAcE,qBAIvE,CACH3B,KAAMZ,MAAMK,OAAOC"}